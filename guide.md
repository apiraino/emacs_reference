## First emacs setup

* Install latest Emacs 25
* Install Prelude: https://github.com/bbatsov/prelude
* Copy `prelude-modules.el` from samples, enable Python module
* Copy my emacs config files in the `personal` dir

## Run FlyCheck

`C-c ! l, n, ...`

## Common commands to move around

<http://physics.clarku.edu/sip/tutorials/intro_emacs.html>

## Push/Pop to jump around in Python code (provided by Prelude) ##

`C-c .` and `C-c ,` jump to definition, jump back

## Indent/Unindent a selected region ##

`C-u 4` + `C-x TAB` +indent
`C-u -4`, `C-x TAB` -indent
`C-x TAB` then arrow left/right

## Global search and replace ##

`M-% string <RET> newstring <RET>`

## Read a file into current buffer ##

`C-x insert-file`

## Windows ##

https://www.gnu.org/software/emacs/manual/html_node/emacs/Change-Window.html

`C-x o`   Select another window (other-window). That is `o`, not zero.

`C-x 1`   Close all windows but the current one

`C-M-v`   Scroll the next window (scroll-other-window).

## Save the current buffer as new file (write-file) a.k.a. `save as` ##

`C-x C-w`

## Rename current file in buffer ##

`C-x C-j` (dired-jump to current file)

R to rename the file (or dired-do-rename).

`C-x k RET` to go back to the (renamed) buffer

## Grep ##

`C-c p g`       Old grep shortcut

`C-c p s g`     New grep shortcut

## Show Python docstring for function (provided by Prelude) ##

`C-c ?`

## Abbreviations ##

* write `import pdb; pdb.set_trace()"`
* `C-u 5`: ???
* `C-a ixg`: ???
* input name of the abbreviation shortcut (e.g. `trace`)
* `M-x write-abbrev-file`: save abbreviation in file (e.g. `~user/.emacs.d/abbrev_defs`)
* `M-x abbrev-mode`: enable abbreviation mode
* use abbreviation: write `trace<space>` and ... voil√†
* Now you can extend the abbreviation file directly and reload with:
`M-x load-file ~user/.emacs.d/abbrev_defs`

## Retrieve from cut&paste stack ##

`C-y`: pop
`M-y`: show stack
`C-y` + `M-y` to walk through the stack entries

## Bookmarks ##

### Save a bookmark ###

`C-x rm`

### Move to a bookmark ###

`C-x rb`

### Delete a bookmark ###

`M-x bookmark-delete <RET> bookmark <RET>`

## Apropos ##

`C-h a`

## Select entire buffer (select all) ##

`C-x h`

## Reindent buffer and remove TABs (e.g. in HTML files generated by evil Adobe IDEs) ##
* Select region of entire buffer
* `tab` to remove excessive indent
* `M-x untabify` to replace evil TABs with virtous spaces

## Go to line number ##

`M-g g <num>`

### Go to the top of the file ###

`ESC <`

`C-Home`

### Go to the bottom of the file ###

`ESC >`

`C-End`

## Themes ##

`M-x customize-themes`: enter theme selection

`M-x color-theme-...`: select a theme

`M-x disable-theme`: yeah, disable a theme

## Search and replace in entire project (whatever 'project' means...) ##

`C-c p r`

## Join lines ##

`C-^`

## Registers ##

`C-x r s [a, 1, b, 5, r, ...]`: copy region into register [a, 1, b, 5, r, ...] (copy-to-register)

`C-x r i [a, 1, b, 5, r, ...]`: insert text from register [a, 1, b, 5, r, ...] (insert-register)

## Comment/Uncomment a region ##

`M-;`

## Update all installed EMACS packages

`M-x package-list-packages`

`Ux` <confirm>

## Kill some buffers

M-x kill-some-buffers

## Find command defined by a key binding
`C-h k` then execute the keycombo

## Magit survival guide

Get into Magit: `M-x magit-status`

Diff changes: `d`

Stage, unstage, discard hunk: `s`, `u` and `d`

Commit changes: `c` then `c`

Write commit message then `C-x s` and `C-c C-c`

Push to origin: `P u`

eval buffer (f.e. to refresh pkg installed):

`M-x eval-buffer` in your buffer with your custom LISP config file

## Rust specific setup

* install racer

  `$ cargo install racer`

  `$ rustup component add rust-src`

  `$ export RUST_SRC_PATH="$(rustc --print sysroot)/lib/rustlib/src/rust/src"`

* Install autoformatter

  `$ cargo install rustfmt`
